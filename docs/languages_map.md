# Карта языков: расширения, цвета, правила

Версия: 0.1
Статус: Draft (внутренний документ)

## Назначение
- Единый источник истин для отчёта `languages`.
- Правила расширения карты и тестовые критерии.

## Источники
- За основу берём GitHub Linguist (упрощённо), но храним локально.
- Цвета — согласованы с общепринятыми палитрами, читаемость на тёмной/светлой теме.

## Формат карты
- В коде: константа наподобие `PrettyGit::Analytics::Languages::MAP`.
- Структура:
  - ключ: расширение файла (без точки), либо шаблон filename (например, `Gemfile`).
  - значение: объект `{ language, color }`.

Пример (Ruby):
```ruby
MAP = {
  'rb' => { language: 'Ruby', color: '#701516' },
  'gemspec' => { language: 'Ruby', color: '#701516' },
  'rake' => { language: 'Ruby', color: '#701516' },
  'Gemfile' => { language: 'Ruby', color: '#701516' },
}
```

## Исключения по умолчанию
- Директории: `vendor/`, `node_modules/`, `tmp/`, `log/`, `.git/`, `bin/binstubs/`, Python кэши (`__pycache__/`, `.tox/`, `.venv/`, `venv/`).
- Файлы‑данные: крупные JSON/CSV не считать языком кода (`JSON` исключён из статистики).

## Правила добавления
- Добавляя расширение:
  - указать язык и цвет (hex), проверить контраст.
  - добавить тесты: подсчёт байтов, %, лимиты, include/exclude, распознавание по имени/расширению.
  - обновить README секцию Languages (список примеров и игноров) — без упоминаний docs/.

## Сортировка и проценты
- Сортировка: `bytes desc`, затем `language asc`.
- Процент: `bytes / sum(bytes) * 100`, округление до 2 знаков (bankers rounding не используется).

## Цветовая политика
- Цвет должен быть узнаваемым и контрастным для таблиц в `basic|bright|mono`.
- Для `mono` цвет не используется, остаётся чёрно‑белая схема.

## Тест‑критерии
- Опорный набор файлов → ожидаемые байты/проценты/порядок.
- Проверка исключений (директории/файлы‑данные).
- Проверка лимитов и распознавания filename без расширения (e.g. `Makefile`, `Gemfile`).
